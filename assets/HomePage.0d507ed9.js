import{r as e,T as t,d as a,n,f as o,o as r,c as i,b as s,i as c,M as l,g as d,w as u,h,j as m,p as g,k as p,F as f,e as v,l as w,t as y,m as x,u as k,q as b,s as L,v as P,x as S}from"./index.8e9ae24a.js";import{_}from"./houcdc0426e.js";const R=""+new URL("1.b564e09c.jpg",import.meta.url).href,T=""+new URL("3.0a051b37.jpg",import.meta.url).href,M=""+new URL("4.0c0b824c.jpg",import.meta.url).href,C=e([{name:"扫一扫",icon:"scan",path:"ScanPage"},{name:"定位",icon:"location-o",path:"MapPage"},{name:"二维码",icon:"qr",path:"QrPage"}]),A=e([{img:R,strList:[{name:"红烧肉"},{name:"可乐鸡翅"},{name:"醋溜白菜"},{name:"红烧排骨"},{name:"西红柿炒鸡蛋"},{name:"芹菜炒香干"},{name:"土豆烧牛肉"},{name:"麻婆豆腐"},{name:"干锅菜花"},{name:"酸辣土豆丝"}]},{img:T,strList:[{name:"东安子鸡"},{name:"清蒸武昌鱼"},{name:"无为熏鸭"},{name:"辣子鸡"},{name:"北京烤鸭"},{name:"四川麻婆豆腐"},{name:"西湖醋鱼"},{name:"飞龙汤"},{name:"东坡肉"},{name:"腊味合蒸"}]},{img:M,strList:[{name:"熘鱼焙面"},{name:"炸紫酥肉"},{name:"煎扒青鱼头尾"},{name:"牡丹燕菜"},{name:"汴京烤鸭"},{name:"炸八块"},{name:"清汤鲍鱼"},{name:"套四宝"},{name:"酸辣乌鱼蛋汤"},{name:"桶子鸡"}]}]),I=e([{name:"烟花",icon:"fire-o",color:"red"},{name:"签名",icon:"edit",color:"#993"},{name:"群烟",icon:"fire-o",color:"#900"},{name:"振动",icon:"bell",color:"#399"},{name:"拍照",icon:"photograph",color:"#39f"},{name:"通话",icon:"phone",color:"green"},{name:"",icon:"",color:""},{name:"",icon:"",color:""}]),W={title:{text:"销售统计",subtext:"销售量",left:"right"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],itemStyle:{borderRadius:6,borderColor:"#fff",borderWidth:0},data:[{value:1048,name:"羊毛衫"},{value:735,name:"皮靴"},{value:580,name:"大衣"},{value:484,name:"护目镜"},{value:300,name:"登山杖"}],labelLine:{show:!0},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};var X={},Y=new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/burst2.mp3"),F=new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/lift2.mp3");const q={self:X,Fireworks:function(){window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},X.init=function(){X.canvas=document.createElement("canvas"),X.canvas.width=X.cw=window.innerWidth,X.canvas.height=X.ch=window.innerHeight,X.particles=[],X.partCount=600,X.fireworks=[],X.mx=X.cw/5,X.my=X.ch/5,X.currentHue=30,X.partSpeed=4,X.partSpeedVariance=8,X.partWind=120,X.partFriction=6,X.partGravity=1,X.hueMin=0,X.hueMax=360,X.fworkSpeed=3,X.fworkAccel=.3,X.hueVariance=20,X.flickerDensity=20,X.showShockwave=!0,X.showTarget=!1,X.clearAlpha=15,X.stop="",document.querySelector(".fireworkOverlay").appendChild(X.canvas),X.ctx=X.canvas.getContext("2d"),X.ctx.lineCap="round",X.ctx.lineJoin="round",X.lineWidth=1,X.bindEvents(),X.canvasLoop(),X.canvas.onselectstart=function(){return!1}},X.createParticles=function(e,a,n){Y.play();for(var o=X.partCount;o--;){var r={x:e,y:a,coordLast:[{x:e,y:a},{x:e,y:a},{x:e,y:a}],angle:t.getRandom(0,360),speed:t.getRandom(X.partSpeed-X.partSpeedVariance<=0?1:X.partSpeed-X.partSpeedVariance,X.partSpeed+X.partSpeedVariance),friction:1-X.partFriction/100,gravity:X.partGravity/2,hue:t.getRandom(n-X.hueVariance,n+X.hueVariance),brightness:t.getRandom(50,80),alpha:t.getRandom(40,100)/50,decay:t.getRandom(10,50)/1e3,wind:(t.getRandom(0,X.partWind)-X.partWind/2)/20,lineWidth:X.lineWidth};X.particles.push(r)}},X.updateParticles=function(){for(var e,t,a,n,o,r,i,s,c=X.particles.length;c--;){var l=X.particles[c],d=l.angle*Math.PI/180,u=Math.cos(d)*l.speed,h=Math.sin(d)*l.speed;l.speed*=l.friction,l.coordLast[2].x=l.coordLast[1].x,l.coordLast[2].y=l.coordLast[1].y,l.coordLast[1].x=l.coordLast[0].x,l.coordLast[1].y=l.coordLast[0].y,l.coordLast[0].x=l.x,l.coordLast[0].y=l.y,l.x+=u,l.y+=h,l.y+=l.gravity,l.angle+=l.wind,l.alpha-=l.decay,e=0,t=0,a=X.cw,n=X.ch,o=l.x-l.radius,r=l.y-l.radius,i=2*l.radius,s=2*l.radius,(e+a<o||o+i<e||t+n<r||r+s<t||l.alpha<.05)&&X.particles.splice(c,1)}},X.drawParticles=function(){for(var e=X.particles.length;e--;){var a=X.particles[e],n=t.getRandom(1,3)-1;if(X.ctx.beginPath(),X.ctx.moveTo(Math.round(a.coordLast[n].x),Math.round(a.coordLast[n].y)),X.ctx.lineTo(Math.round(a.x),Math.round(a.y)),X.ctx.closePath(),X.ctx.strokeStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+a.alpha+")",X.ctx.stroke(),X.flickerDensity>0){var o=50-X.flickerDensity;if(t.getRandom(0,o)===o){X.ctx.beginPath(),X.ctx.arc(Math.round(a.x),Math.round(a.y),t.getRandom(a.lineWidth,a.lineWidth+3)/2,0,2*Math.PI,!1),X.ctx.closePath();var r=t.getRandom(50,100)/100;X.ctx.fillStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+r+")",X.ctx.fill()}}}},X.createFireworks=function(e,a,n,o){F.play();var r={x:e,y:a,startX:e,startY:a,hitX:!1,hitY:!1,coordLast:[{x:e,y:a},{x:e,y:a},{x:e,y:a}],targetX:n,targetY:o,speed:X.fworkSpeed,angle:Math.atan2(o-a,n-e),shockwaveAngle:Math.atan2(o-a,n-e)+Math.PI/180*90,acceleration:X.fworkAccel/100,hue:X.currentHue,brightness:t.getRandom(50,80),alpha:t.getRandom(50,100)/100,lineWidth:X.lineWidth};X.fireworks.push(r)},X.updateFireworks=function(){for(var e=X.fireworks.length;e--;){var t=X.fireworks[e];X.ctx.lineWidth=t.lineWidth;const a=Math.cos(t.angle)*t.speed,n=Math.sin(t.angle)*t.speed;t.speed*=1+t.acceleration,t.coordLast[2].x=t.coordLast[1].x,t.coordLast[2].y=t.coordLast[1].y,t.coordLast[1].x=t.coordLast[0].x,t.coordLast[1].y=t.coordLast[0].y,t.coordLast[0].x=t.x,t.coordLast[0].y=t.y,t.startX>=t.targetX?t.x+a<=t.targetX?(t.x=t.targetX,t.hitX=!0):t.x+=a:t.x+a>=t.targetX?(t.x=t.targetX,t.hitX=!0):t.x+=a,t.startY>=t.targetY?t.y+n<=t.targetY?(t.y=t.targetY,t.hitY=!0):t.y+=n:t.y+n>=t.targetY?(t.y=t.targetY,t.hitY=!0):t.y+=n,t.hitX&&t.hitY&&(X.createParticles(t.targetX,t.targetY,t.hue),X.fireworks.splice(e,1))}},X.drawFireworks=function(){var e=X.fireworks.length;for(X.ctx.globalCompositeOperation="lighter";e--;){var a=X.fireworks[e];X.ctx.lineWidth=a.lineWidth;var n=t.getRandom(1,3)-1;X.ctx.beginPath(),X.ctx.moveTo(Math.round(a.coordLast[n].x),Math.round(a.coordLast[n].y)),X.ctx.lineTo(Math.round(a.x),Math.round(a.y)),X.ctx.closePath(),X.ctx.strokeStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+a.alpha+")",X.ctx.stroke(),X.showTarget&&(X.ctx.save(),X.ctx.beginPath(),X.ctx.arc(Math.round(a.targetX),Math.round(a.targetY),t.getRandom(1,8),0,2*Math.PI,!1),X.ctx.closePath(),X.ctx.lineWidth=1,X.ctx.stroke(),X.ctx.restore()),X.showShockwave&&(X.ctx.save(),X.ctx.translate(Math.round(a.x),Math.round(a.y)),X.ctx.rotate(a.shockwaveAngle),X.ctx.beginPath(),X.ctx.arc(0,0,a.speed/5*1,0,Math.PI,!0),X.ctx.strokeStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+t.getRandom(25,60)/100+")",X.ctx.lineWidth=a.lineWidth,X.ctx.stroke(),X.ctx.restore())}},X.bindEvents=function(){window.onresize=function(){clearTimeout(X.timeout),X.timeout=setTimeout((function(){X.canvas.width=X.cw=window.innerWidth,X.canvas.height=X.ch=window.innerHeight,X.ctx.lineCap="round",X.ctx.lineJoin="round"}),100)}},X.clear=function(){X.particles=[],X.fireworks=[],X.ctx.clearRect(0,0,X.cw,X.ch)},X.canvasLoop=function(){X.stop=requestAnimationFrame(X.canvasLoop),X.ctx.globalCompositeOperation="destination-out",X.ctx.fillStyle="rgba(100,0,0,"+X.clearAlpha/100+")",X.ctx.fillRect(0,0,X.cw,X.ch),X.updateFireworks(),X.updateParticles(),X.drawFireworks(),X.drawParticles()},X.init()}},H={class:"echartsPage"},E=_(a({__name:"echartsPage",setup(t){c("$Utils");const a=c("$Echarts"),l=e();let d=null,u=e(0);function h(e,t){d=setInterval((()=>{e.dispatchAction({type:"downplay",dataIndex:[...new Array(t.series[0].data.length).keys()]}),e.dispatchAction({type:"highlight",dataIndex:u.value}),u.value++,u.value>=5&&(u.value=0)}),2e3)}return n((()=>{let e=a.init(l.value);W&&e.setOption(W),h(e,W),e.on("mouseover",(t=>{clearInterval(d),e.dispatchAction({type:"downplay",dataIndex:[...new Array(W.series[0].data.length).keys()]}),e.dispatchAction({type:"highlight",dataIndex:t.dataIndex})})),e.on("mouseout",(()=>{h(e,W)}))})),o((()=>{clearInterval(d)})),(e,t)=>(r(),i("div",H,[s("div",{class:"echartsPage_echarts padding",ref_key:"EchartsDom",ref:l},null,512)]))}}),[["__scopeId","data-v-ede9da08"]]);let O,D;const z={init:async function(e){await this.domHtml(e),this.Instantia(e)},domHtml:function(e){return new Promise(((t,a)=>{let n=document.createElement("canvas");n.setAttribute("id",e.id),e.domClass.appendChild(n),t()}))},Instantia:function(e){O=document.getElementById(e.id),O.width=e.width,O.height=e.height;let t=O.offsetLeft,a=O.offsetTop;D=O.getContext("2d"),D.fillStyle="transparent",D.fillRect(0,0,e.width,e.height);const n={offsetX:0,offsetY:0,endX:0,endY:0},o=/Mobile|Android|iPhone/i.test(navigator.userAgent),r=e=>{const{pageX:r,pageY:i}=o?e.changedTouches[0]:e;n.endX=r-t,n.endY=i-a,D.lineTo(r-t,i-a),D.stroke()};O.addEventListener(o?"touchstart":"mousedown",(i=>{const{offsetX:s,offsetY:c,pageX:l,pageY:d}=o?i.changedTouches[0]:i;n.offsetX=s,n.offsetY=c,n.endX=l-t,n.endY=d-a,D.beginPath(),D.lineWidth=e.lineWidth,D.strokeStyle=e.strokeStyle,D.lineCap="round",D.lineJoin="round",D.moveTo(n.endX,n.endY),O.addEventListener(o?"touchmove":"mousemove",r)})),O.addEventListener(o?"touchend":"mouseup",(()=>{D.closePath(),O.removeEventListener("mousemove",r)}))},clearSignature:function(e){D.clearRect(0,0,e.domClass.offsetWidth,e.domClass.offsetHeight)},saveSignature:function(e){O.toBlob((a=>{let n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.toBlob((async e=>{if(a.size===e.size)return l.showToast("请完整签名");let n=await t.toBase64(a);l.alertToast("是否下载图片","提示",n,!0).then((e=>{if(e){const e=Date.now().toString(),t=document.createElement("a");t.download=`${e}.png`,t.href=URL.createObjectURL(a),t.click(),t.remove()}}))}))}))}},U={class:"signaturePage padding radius"},$=(e=>(g("data-v-f43e873e"),e=e(),p(),e))((()=>s("div",{class:"signaturePage_content"},null,-1))),j={class:"signaturePage_btn flex_around"},V=_(a({__name:"signaturePage",setup(e){let t;return n((()=>{let e=document.querySelector(".signaturePage_content");t={class:"signaturePage_content",id:"canvasId",width:e.offsetWidth,height:e.offsetHeight,lineWidth:2,strokeStyle:"#000",domClass:e},z.init(t)})),(e,a)=>{const n=m("van-button");return r(),i("div",U,[$,s("div",j,[d(n,{type:"default",onClick:a[0]||(a[0]=e=>{z.clearSignature(t)})},{default:u((()=>[h("清空")])),_:1}),d(n,{type:"primary",onClick:a[1]||(a[1]=e=>{z.saveSignature(t)})},{default:u((()=>[h("确认")])),_:1})])])}}}),[["__scopeId","data-v-f43e873e"]]),B={class:"bannerPage"},J={class:"bannerPage_banner"},G={class:"scrollDivC"},Q=_(a({__name:"bannerPage",setup(e){function t(e){g(e)}c("$Utils"),c("$Echarts");let a=null,l=0,h=0;function g(e){l=0,h=0;let t=document.querySelectorAll(".scrollDiv")[e],n=t.querySelector(".scrollDivC").querySelector("div");clearInterval(a),a=setInterval((()=>{t&&(l=t.scrollTop,t.scrollTop++,h=t.scrollTop,l===h&&(A.value[e].strList.push(A.value[e].strList.shift()),t.scrollTop=t.scrollTop-n.offsetHeight))}),30)}return n((()=>{g(0)})),o((()=>{clearInterval(a)})),(e,a)=>{const n=m("van-swipe-item"),o=m("van-swipe");return r(),i("div",B,[s("div",J,[d(o,{class:"my-swipe",autoplay:8e3,onChange:t},{default:u((()=>[(r(!0),i(f,null,v(k(A),((e,t)=>(r(),w(n,{class:"scrollDiv",key:t,style:x(`background:url(${e.img}) no-repeat; background-size: 100% 100%;`)},{default:u((()=>[s("div",G,[(r(!0),i(f,null,v(e.strList,((e,t)=>(r(),i("div",{key:t},y(e.name),1)))),128))])])),_:2},1032,["style"])))),128))])),_:1})])])}}}),[["__scopeId","data-v-c8e776ce"]]),K={class:"HomePage padding"},N={class:"HomePage_header radius flex_around"},Z=["onClick"],ee={class:"HomePage_items flex_around padding"},te=["onClick"],ae=_(a({__name:"HomePage",setup(t){const a=c("$Utils");let l=e(!1),h=e(!1),g=null,p=null,w=e(!1);function x(){q.self.currentHue=a.Tools.getRandom(0,360);let e=a.Tools.getRandom(100,window.innerWidth-100),t=a.Tools.getRandom(100,window.innerHeight/2-100);q.self.createFireworks(window.innerWidth/2,window.innerHeight,e,t)}return b(h,(e=>{if(!e){clearInterval(g),clearTimeout(p),window.cancelAnimationFrame(q.self.stop);let e=document.querySelector(".fireworkOverlay"),t=null==e?void 0:e.querySelector("canvas");null==e||e.removeChild(t)}})),o((()=>{clearInterval(g),clearTimeout(p),window.cancelAnimationFrame(q.self.stop)})),(e,t)=>{const o=m("van-icon"),c=m("van-overlay");return r(),i("div",K,[s("div",N,[(r(!0),i(f,null,v(k(C),((t,a)=>(r(),i("div",{class:"padding",key:t.icon,onClick:a=>e.$router.push(t.path)},[d(o,{class:"icon",name:t.icon},null,8,["name"]),s("p",null,y(t.name),1)],8,Z)))),128))]),d(E),s("div",ee,[(r(!0),i(f,null,v(k(I),((e,t)=>(r(),i("div",{key:e.icon,class:"padding",onClick:t=>async function(e){if("烟花"===e.name&&(h.value=!0,n((()=>{document.querySelector(".fireworkOverlay").style.background="rgba(0, 0, 0, 0)",new q.Fireworks,x(),p=setTimeout((()=>{h.value=!1}),4e3)}))),"签名"===e.name&&(w.value=!w.value),"群烟"===e.name&&(h.value=!0,n((()=>{document.querySelector(".fireworkOverlay").style.background="rgba(0, 0, 0, 0.8)",new q.Fireworks,g=setInterval((()=>{x()}),a.Tools.getRandom(800,1e3))}))),"bell"===e.icon){if(!("vibrate"in navigator))return a.Message.failToast("不支持振动");l.value=!0,navigator.vibrate([300,100,200,100,100,100,500,100,300,100,200,100,100,50,50,50,150,200,200]),setTimeout((()=>{l.value=!1}),3e3)}"photograph"===e.icon&&await a.Tools.uploadImg((e=>{a.Message.successToast("",e,"100")})),"phone"===e.icon&&(location.href="tel://12345")}(e)},[d(o,{class:S(["icon",k(l)?"shake":""]),name:e.icon,color:e.color},null,8,["class","name","color"]),s("p",null,y(e.name),1)],8,te)))),128))]),d(Q),d(c,{show:k(h),onClick:t[0]||(t[0]=e=>L(h)?h.value=!1:h=!1),class:"fireworkOverlay"},null,8,["show"]),d(c,{show:k(w),onClick:t[1]||(t[1]=P((e=>L(w)?w.value=!1:w=!1),["self"])),class:"SignOverlay padding"},{default:u((()=>[d(V)])),_:1},8,["show"])])}}}),[["__scopeId","data-v-4104016a"]]);export{ae as default};
