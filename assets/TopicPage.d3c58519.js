import{r as e,d as l,z as a,f as u,c as t,b as n,t as r,y as v,h as o,g as s,w as d,l as i,F as c,e as m,M as f,j as b,o as p,u as h,A as y,J as w}from"./index.f754595b.js";const V=e([]),g=e([{value:1,label:"加减"},{value:2,label:"乘除"},{value:3,label:"加减乘除"}]),k=e([]),M=e([]),_={class:"Topic"},T=n("div",{class:"title"},"小学生习题测试",-1),U={key:0,class:"title-date"},A={key:1,class:"title-date"},I={style:{"font-weight":"800",color:"rgb(6, 167, 6)"}},D={style:{"font-weight":"800",color:"rgb(219, 14, 14)"}},S={class:"topic-select"},x=n("label",{for:""},"范围:",-1),C=n("label",{for:""},"算法:",-1),j=n("label",{for:""},"数量:",-1),E=n("label",{for:"",class:"norequired"},"计时:",-1),$={key:0},q=n("label",{for:""},"时间:",-1),z={class:"topic-content"},F=["onUpdate:modelValue","disabled"],J={key:2,class:"rightAnswers"},P=l({__name:"TopicPage",setup(l){const P=e(0),B=e(""),G=e(0),H=e(""),K=e(""),L=e(""),N=e(!1),O=e(""),Q=e(["+","-"]),R=e(["×","÷"]),W=e([]),X=e(!1),Y=e(0);let Z=null,ee=e(!1),le=e("");function ae(){X.value=!0,N.value=!1,L.value="",clearInterval(Z),W.value.forEach((e=>{"+"==e.sym&&(e.correct=(e.num1+e.num2).toString()===e.answer,e.correct&&Y.value++,e.rightAnswers=e.num1+e.num2),"-"==e.sym&&(e.correct=(e.num1-e.num2).toString()===e.answer,e.correct&&Y.value++,e.rightAnswers=e.num1-e.num2),"×"==e.sym&&(e.correct=(e.num1*e.num2).toString()===e.answer,e.correct&&Y.value++,e.rightAnswers=e.num1*e.num2),"÷"==e.sym&&(e.correct=(e.num1/e.num2).toString()===e.answer,e.correct&&Y.value++,e.rightAnswers=e.num1/e.num2)}))}function ue(){let e,l,a=Q.value[oe(1)];return"+"===a?(e=oe(P.value/2),l=oe(P.value/2)):(e=oe(P.value),l=oe(P.value)),l>e&&([e,l]=[l,e]),{num1:e,num2:l,sym:a,answer:"",correct:!1}}function te(){let e,l,a=R.value[oe(1)],u=oe(P.value,P.value,a);return e=u.random1,l=u.random2,l>e&&([e,l]=[l,e]),{num1:e,num2:l,sym:a,answer:"",correct:!1}}function ne(){ee.value=!ee.value,ee.value?clearInterval(Z):Z=setInterval((()=>{re(O.value,le.value),le.value-=1e3}),1e3)}function re(e,l=new Date){let a=new Date(e).getTime(),u=(new Date(l).getTime()-a)/1e3;u<=0&&clearInterval(Z);let t=ve(u/60),n=ve(u%60);L.value=`${t}分${n}秒`}function ve(e){return+(e=parseInt(e))<=0?"00":+e<10?"0"+e:e}function oe(e,l,a){if("×"==a){let u=Math.round(Math.random()*e),t=Math.round(Math.random()*e);return u*t>l?oe(e,l,a):{random1:u,random2:t}}if("÷"==a){let u=Math.round(Math.random()*e),t=Math.round(Math.random()*e);return t>u&&([u,t]=[t,u]),u/t%1!=0?oe(e,l,a):{random1:u,random2:t}}return Math.round(Math.random()*e)}return a((()=>{!function(){for(let e=0;e<100;e++)(e+1)%10==0&&(k.value.push({value:e+1,label:e+1+"道"}),V.value.push({value:e+1,label:e+1+"以内"})),(e+1)%5==0&&M.value.push({value:e+1,label:e+1+"分钟"})}()})),u((()=>{clearInterval(Z)})),(e,l)=>{const a=b("el-option"),u=b("el-select"),Q=b("el-radio"),R=b("el-button"),ve=b("van-icon");return p(),t("div",_,[n("header",null,[T,K.value&&N.value?(p(),t("div",U," 剩余时间:"+r(L.value),1)):v("",!0),X.value?(p(),t("div",A,[o(" 答对: "),n("span",I,r(Y.value),1),o(" 题  答错: "),n("span",D,r(G.value-Y.value),1),o(" 题 ")])):v("",!0)]),n("div",S,[n("div",null,[x,s(u,{modelValue:P.value,"onUpdate:modelValue":l[0]||(l[0]=e=>P.value=e),placeholder:"请选择",disabled:N.value},{default:d((()=>[(p(!0),t(c,null,m(h(V),(e=>(p(),i(a,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])]),n("div",null,[C,s(u,{modelValue:B.value,"onUpdate:modelValue":l[1]||(l[1]=e=>B.value=e),placeholder:"请选择",disabled:N.value},{default:d((()=>[(p(!0),t(c,null,m(h(g),(e=>(p(),i(a,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])]),n("div",null,[j,s(u,{modelValue:G.value,"onUpdate:modelValue":l[2]||(l[2]=e=>G.value=e),placeholder:"请选择",disabled:N.value},{default:d((()=>[(p(!0),t(c,null,m(h(k),(e=>(p(),i(a,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])]),n("div",null,[E,s(Q,{modelValue:K.value,"onUpdate:modelValue":l[3]||(l[3]=e=>K.value=e),label:0,disabled:N.value},{default:d((()=>[o("否")])),_:1},8,["modelValue","disabled"]),s(Q,{modelValue:K.value,"onUpdate:modelValue":l[4]||(l[4]=e=>K.value=e),label:1,disabled:N.value},{default:d((()=>[o("是")])),_:1},8,["modelValue","disabled"])]),K.value?(p(),t("div",$,[q,s(u,{modelValue:H.value,"onUpdate:modelValue":l[5]||(l[5]=e=>H.value=e),placeholder:"请选择",disabled:N.value},{default:d((()=>[(p(!0),t(c,null,m(h(M),(e=>(p(),i(a,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])):v("",!0),n("div",null,[K.value&&N.value?(p(),i(R,{key:0,type:"warning",onClick:l[6]||(l[6]=e=>ne())},{default:d((()=>[o(r(h(ee)?"继续":"暂停"),1)])),_:1})):v("",!0),N.value?(p(),i(R,{key:2,type:"primary",onClick:l[8]||(l[8]=e=>function(){ne();let e=!1;if(W.value.forEach((l=>{l.answer.trim()||(e=!0)})),e)return f.alertToast("有题目未做完哦，是否提交",!0).then((()=>{ae()})).catch((e=>{ne()}));ae()}())},{default:d((()=>[o("完成")])),_:1})):(p(),i(R,{key:1,type:"primary",onClick:l[7]||(l[7]=e=>function(){if(!P.value)return f.alertToast("请选择范围");if(!B.value)return f.alertToast("请选择算法");if(!G.value)return f.alertToast("请选择数量");if(K.value&&!H.value)return f.alertToast("请选择时间");if(W.value=[],X.value=!1,ee.value=!1,Y.value=0,"1"==B.value)for(let e=0;e<G.value;e++)W.value.push(ue());if("2"==B.value)for(let e=0;e<G.value;e++)W.value.push(te());if("3"==B.value){let e=[ue,te];for(let l=0;l<G.value;l++)W.value.push(e[oe(1)]())}K&&H&&(O.value=Date.now(),le.value=O.value+60*+H.value*1e3,Z=setInterval((()=>{re(O.value,le.value),le.value-=1e3}),1e3)),N.value=!0}())},{default:d((()=>[o("确认")])),_:1}))])]),n("div",z,[(p(!0),t(c,null,m(W.value,((e,l)=>(p(),t("div",{key:l},[n("span",null,r(l+1)+".",1),o(" "+r(e.num1)+" "+r(e.sym)+" "+r(e.num2)+" = ",1),n("div",null,[y(n("input",{type:"text","onUpdate:modelValue":l=>e.answer=l,disabled:h(ee)},null,8,F),[[w,e.answer]]),X.value&&e.correct?(p(),i(ve,{key:0,name:"success",class:"check"})):v("",!0),X.value&&!e.correct?(p(),i(ve,{key:1,name:"cross",class:"close"})):v("",!0),X.value&&!e.correct?(p(),t("span",J,r(e.rightAnswers),1)):v("",!0)])])))),128))])])}}});export{P as default};
