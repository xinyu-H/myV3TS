import{r as e,T as t,d as a,n,f as o,o as r,c as i,b as s,i as c,M as l,g as d,w as u,h,j as m,p as g,k as p,F as v,e as f,l as w,t as y,m as x,u as k,q as b,s as L,v as P,x as S}from"./index.b9778689.js";import{_}from"./houcdc0426e.js";const R=""+new URL("1.b564e09c.jpg",import.meta.url).href,T=""+new URL("3.0a051b37.jpg",import.meta.url).href,C=""+new URL("4.0c0b824c.jpg",import.meta.url).href,M=e([{name:"扫一扫",icon:"scan",path:"ScanPage"},{name:"定位",icon:"location-o",path:"MapPage"},{name:"二维码",icon:"qr",path:"QrPage"}]),A=e([{img:R,strList:[{name:"红烧肉"},{name:"可乐鸡翅"},{name:"醋溜白菜"},{name:"红烧排骨"},{name:"西红柿炒鸡蛋"},{name:"芹菜炒香干"},{name:"土豆烧牛肉"},{name:"麻婆豆腐"},{name:"干锅菜花"},{name:"酸辣土豆丝"}]},{img:T,strList:[{name:"东安子鸡"},{name:"清蒸武昌鱼"},{name:"无为熏鸭"},{name:"辣子鸡"},{name:"北京烤鸭"},{name:"四川麻婆豆腐"},{name:"西湖醋鱼"},{name:"飞龙汤"},{name:"东坡肉"},{name:"腊味合蒸"}]},{img:C,strList:[{name:"熘鱼焙面"},{name:"炸紫酥肉"},{name:"煎扒青鱼头尾"},{name:"牡丹燕菜"},{name:"汴京烤鸭"},{name:"炸八块"},{name:"清汤鲍鱼"},{name:"套四宝"},{name:"酸辣乌鱼蛋汤"},{name:"桶子鸡"}]}]),I=e([{name:"烟花",icon:"fire-o",color:"#FF9A9E"},{name:"签名",icon:"edit",color:"#38F9D7"},{name:"群烟",icon:"fire-o",color:"#A18CD1"},{name:"振动",icon:"bell",color:"#FBC2EB"},{name:"拍照",icon:"photograph",color:"#8FD3F4"},{name:"通话",icon:"phone",color:"#A1C4DB"},{name:"",icon:"",color:""},{name:"",icon:"",color:""}]),W={title:{text:"销售统计",subtext:"销售量",left:"right"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],itemStyle:{borderRadius:6,borderColor:"#fff",borderWidth:0},data:[{value:1048,name:"羊毛衫"},{value:735,name:"皮靴"},{value:580,name:"大衣"},{value:484,name:"护目镜"},{value:300,name:"登山杖"}],labelLine:{show:!0},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};let F=new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/burst2.mp3"),X=new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/lift2.mp3");const Y={init:function(){Y.canvas=document.createElement("canvas"),Y.canvas.width=Y.cw=window.innerWidth,Y.canvas.height=Y.ch=window.innerHeight,Y.particles=[],Y.partCount=600,Y.fireworks=[],Y.mx=Y.cw/5,Y.my=Y.ch/5,Y.currentHue=30,Y.partSpeed=4,Y.partSpeedVariance=8,Y.partWind=120,Y.partFriction=6,Y.partGravity=1,Y.hueMin=0,Y.hueMax=360,Y.fworkSpeed=3,Y.fworkAccel=.3,Y.hueVariance=20,Y.flickerDensity=20,Y.showShockwave=!0,Y.showTarget=!1,Y.clearAlpha=15,Y.stop="",document.querySelector(".fireworkOverlay").appendChild(Y.canvas),Y.ctx=Y.canvas.getContext("2d"),Y.ctx.lineCap="round",Y.ctx.lineJoin="round",Y.lineWidth=1,Y.bindEvents(),Y.canvasLoop(),Y.canvas.onselectstart=function(){return!1},window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}},createParticles:function(e,a,n){F.play();for(var o=Y.partCount;o--;){var r={x:e,y:a,coordLast:[{x:e,y:a},{x:e,y:a},{x:e,y:a}],angle:t.getRandom(0,360),speed:t.getRandom(Y.partSpeed-Y.partSpeedVariance<=0?1:Y.partSpeed-Y.partSpeedVariance,Y.partSpeed+Y.partSpeedVariance),friction:1-Y.partFriction/100,gravity:Y.partGravity/2,hue:t.getRandom(n-Y.hueVariance,n+Y.hueVariance),brightness:t.getRandom(50,80),alpha:t.getRandom(40,100)/50,decay:t.getRandom(10,50)/1e3,wind:(t.getRandom(0,Y.partWind)-Y.partWind/2)/20,lineWidth:Y.lineWidth};Y.particles.push(r)}},updateParticles:function(){for(var e,t,a,n,o,r,i,s,c=Y.particles.length;c--;){var l=Y.particles[c],d=l.angle*Math.PI/180,u=Math.cos(d)*l.speed,h=Math.sin(d)*l.speed;l.speed*=l.friction,l.coordLast[2].x=l.coordLast[1].x,l.coordLast[2].y=l.coordLast[1].y,l.coordLast[1].x=l.coordLast[0].x,l.coordLast[1].y=l.coordLast[0].y,l.coordLast[0].x=l.x,l.coordLast[0].y=l.y,l.x+=u,l.y+=h,l.y+=l.gravity,l.angle+=l.wind,l.alpha-=l.decay,e=0,t=0,a=Y.cw,n=Y.ch,o=l.x-l.radius,r=l.y-l.radius,i=2*l.radius,s=2*l.radius,(e+a<o||o+i<e||t+n<r||r+s<t||l.alpha<.05)&&Y.particles.splice(c,1)}},drawParticles:function(){for(var e=Y.particles.length;e--;){var a=Y.particles[e],n=t.getRandom(1,3)-1;if(Y.ctx.beginPath(),Y.ctx.moveTo(Math.round(a.coordLast[n].x),Math.round(a.coordLast[n].y)),Y.ctx.lineTo(Math.round(a.x),Math.round(a.y)),Y.ctx.closePath(),Y.ctx.strokeStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+a.alpha+")",Y.ctx.stroke(),Y.flickerDensity>0){var o=50-Y.flickerDensity;if(t.getRandom(0,o)===o){Y.ctx.beginPath(),Y.ctx.arc(Math.round(a.x),Math.round(a.y),t.getRandom(a.lineWidth,a.lineWidth+3)/2,0,2*Math.PI,!1),Y.ctx.closePath();var r=t.getRandom(50,100)/100;Y.ctx.fillStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+r+")",Y.ctx.fill()}}}},createFireworks:function(e,a,n,o){X.play();var r={x:e,y:a,startX:e,startY:a,hitX:!1,hitY:!1,coordLast:[{x:e,y:a},{x:e,y:a},{x:e,y:a}],targetX:n,targetY:o,speed:Y.fworkSpeed,angle:Math.atan2(o-a,n-e),shockwaveAngle:Math.atan2(o-a,n-e)+Math.PI/180*90,acceleration:Y.fworkAccel/100,hue:Y.currentHue,brightness:t.getRandom(50,80),alpha:t.getRandom(50,100)/100,lineWidth:Y.lineWidth};Y.fireworks.push(r)},updateFireworks:function(){for(var e=Y.fireworks.length;e--;){var t=Y.fireworks[e];Y.ctx.lineWidth=t.lineWidth;const a=Math.cos(t.angle)*t.speed,n=Math.sin(t.angle)*t.speed;t.speed*=1+t.acceleration,t.coordLast[2].x=t.coordLast[1].x,t.coordLast[2].y=t.coordLast[1].y,t.coordLast[1].x=t.coordLast[0].x,t.coordLast[1].y=t.coordLast[0].y,t.coordLast[0].x=t.x,t.coordLast[0].y=t.y,t.startX>=t.targetX?t.x+a<=t.targetX?(t.x=t.targetX,t.hitX=!0):t.x+=a:t.x+a>=t.targetX?(t.x=t.targetX,t.hitX=!0):t.x+=a,t.startY>=t.targetY?t.y+n<=t.targetY?(t.y=t.targetY,t.hitY=!0):t.y+=n:t.y+n>=t.targetY?(t.y=t.targetY,t.hitY=!0):t.y+=n,t.hitX&&t.hitY&&(Y.createParticles(t.targetX,t.targetY,t.hue),Y.fireworks.splice(e,1))}},drawFireworks:function(){var e=Y.fireworks.length;for(Y.ctx.globalCompositeOperation="lighter";e--;){var a=Y.fireworks[e];Y.ctx.lineWidth=a.lineWidth;var n=t.getRandom(1,3)-1;Y.ctx.beginPath(),Y.ctx.moveTo(Math.round(a.coordLast[n].x),Math.round(a.coordLast[n].y)),Y.ctx.lineTo(Math.round(a.x),Math.round(a.y)),Y.ctx.closePath(),Y.ctx.strokeStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+a.alpha+")",Y.ctx.stroke(),Y.showTarget&&(Y.ctx.save(),Y.ctx.beginPath(),Y.ctx.arc(Math.round(a.targetX),Math.round(a.targetY),t.getRandom(1,8),0,2*Math.PI,!1),Y.ctx.closePath(),Y.ctx.lineWidth=1,Y.ctx.stroke(),Y.ctx.restore()),Y.showShockwave&&(Y.ctx.save(),Y.ctx.translate(Math.round(a.x),Math.round(a.y)),Y.ctx.rotate(a.shockwaveAngle),Y.ctx.beginPath(),Y.ctx.arc(0,0,a.speed/5*1,0,Math.PI,!0),Y.ctx.strokeStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+t.getRandom(25,60)/100+")",Y.ctx.lineWidth=a.lineWidth,Y.ctx.stroke(),Y.ctx.restore())}},bindEvents:function(){window.onresize=function(){clearTimeout(Y.timeout),Y.timeout=setTimeout((function(){Y.canvas.width=Y.cw=window.innerWidth,Y.canvas.height=Y.ch=window.innerHeight,Y.ctx.lineCap="round",Y.ctx.lineJoin="round"}),100)}},clear:function(){Y.particles=[],Y.fireworks=[],Y.ctx.clearRect(0,0,Y.cw,Y.ch)},canvasLoop:function(){Y.stop=requestAnimationFrame(Y.canvasLoop),Y.ctx.globalCompositeOperation="destination-out",Y.ctx.fillStyle="rgba(100,0,0,"+Y.clearAlpha/100+")",Y.ctx.fillRect(0,0,Y.cw,Y.ch),Y.updateFireworks(),Y.updateParticles(),Y.drawFireworks(),Y.drawParticles()}},q={class:"echartsPage"},E=_(a({__name:"echartsPage",setup(t){c("$Utils");const a=c("$Echarts"),l=e();let d=null,u=e(0);function h(e,t){d=setInterval((()=>{e.dispatchAction({type:"downplay",dataIndex:[...new Array(t.series[0].data.length).keys()]}),e.dispatchAction({type:"highlight",dataIndex:u.value}),u.value++,u.value>=5&&(u.value=0)}),2e3)}return n((()=>{let e=a.init(l.value);W&&e.setOption(W),h(e,W),e.on("mouseover",(t=>{clearInterval(d),e.dispatchAction({type:"downplay",dataIndex:[...new Array(W.series[0].data.length).keys()]}),e.dispatchAction({type:"highlight",dataIndex:t.dataIndex})})),e.on("mouseout",(()=>{h(e,W)}))})),o((()=>{clearInterval(d)})),(e,t)=>(r(),i("div",q,[s("div",{class:"echartsPage_echarts padding",ref_key:"EchartsDom",ref:l},null,512)]))}}),[["__scopeId","data-v-ede9da08"]]);let H,D;const O={init:async function(e){await this.domHtml(e),this.Instantia(e)},domHtml:function(e){return new Promise(((t,a)=>{let n=document.createElement("canvas");n.setAttribute("id",e.id),e.domClass.appendChild(n),t()}))},Instantia:function(e){H=document.getElementById(e.id),H.width=e.width,H.height=e.height;let t=H.offsetLeft,a=H.offsetTop;D=H.getContext("2d"),D.fillStyle="transparent",D.fillRect(0,0,e.width,e.height);const n={offsetX:0,offsetY:0,endX:0,endY:0},o=/Mobile|Android|iPhone/i.test(navigator.userAgent),r=e=>{const{pageX:r,pageY:i}=o?e.changedTouches[0]:e;n.endX=r-t,n.endY=i-a,D.lineTo(r-t,i-a),D.stroke()};H.addEventListener(o?"touchstart":"mousedown",(i=>{const{offsetX:s,offsetY:c,pageX:l,pageY:d}=o?i.changedTouches[0]:i;n.offsetX=s,n.offsetY=c,n.endX=l-t,n.endY=d-a,D.beginPath(),D.lineWidth=e.lineWidth,D.strokeStyle=e.strokeStyle,D.lineCap="round",D.lineJoin="round",D.moveTo(n.endX,n.endY),H.addEventListener(o?"touchmove":"mousemove",r)})),H.addEventListener(o?"touchend":"mouseup",(()=>{D.closePath(),H.removeEventListener("mousemove",r)}))},clearSignature:function(e){D.clearRect(0,0,e.domClass.offsetWidth,e.domClass.offsetHeight)},saveSignature:function(e){H.toBlob((a=>{let n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.toBlob((async e=>{if(a.size===e.size)return l.showToast("请完整签名");let n=await t.toBase64(a);l.alertToast("是否下载图片",!0,"提示",n).then((e=>{if(e){const e=Date.now().toString(),t=document.createElement("a");t.download=`${e}.png`,t.href=URL.createObjectURL(a),t.click(),t.remove()}}))}))}))}},z={class:"signaturePage padding radius"},B=(e=>(g("data-v-f43e873e"),e=e(),p(),e))((()=>s("div",{class:"signaturePage_content"},null,-1))),U={class:"signaturePage_btn flex_around"},$=_(a({__name:"signaturePage",setup(e){let t;return n((()=>{let e=document.querySelector(".signaturePage_content");t={class:"signaturePage_content",id:"canvasId",width:e.offsetWidth,height:e.offsetHeight,lineWidth:2,strokeStyle:"#000",domClass:e},O.init(t)})),(e,a)=>{const n=m("van-button");return r(),i("div",z,[B,s("div",U,[d(n,{type:"default",onClick:a[0]||(a[0]=e=>{O.clearSignature(t)})},{default:u((()=>[h("清空")])),_:1}),d(n,{type:"primary",onClick:a[1]||(a[1]=e=>{O.saveSignature(t)})},{default:u((()=>[h("确认")])),_:1})])])}}}),[["__scopeId","data-v-f43e873e"]]),j={class:"bannerPage"},V={class:"bannerPage_banner"},J={class:"scrollDivC"},G=_(a({__name:"bannerPage",setup(e){function t(e){g(e)}c("$Utils"),c("$Echarts");let a=null,l=0,h=0;function g(e){l=0,h=0;let t=document.querySelectorAll(".scrollDiv")[e],n=t.querySelector(".scrollDivC").querySelector("div");clearInterval(a),a=setInterval((()=>{t&&(l=t.scrollTop,t.scrollTop++,h=t.scrollTop,l===h&&(A.value[e].strList.push(A.value[e].strList.shift()),t.scrollTop=t.scrollTop-n.offsetHeight))}),30)}return n((()=>{g(0)})),o((()=>{clearInterval(a)})),(e,a)=>{const n=m("van-swipe-item"),o=m("van-swipe");return r(),i("div",j,[s("div",V,[d(o,{class:"my-swipe",autoplay:8e3,onChange:t},{default:u((()=>[(r(!0),i(v,null,f(k(A),((e,t)=>(r(),w(n,{class:"scrollDiv",key:t,style:x(`background:url(${e.img}) no-repeat; background-size: 100% 100%;`)},{default:u((()=>[s("div",J,[(r(!0),i(v,null,f(e.strList,((e,t)=>(r(),i("div",{key:t},y(e.name),1)))),128))])])),_:2},1032,["style"])))),128))])),_:1})])])}}}),[["__scopeId","data-v-c8e776ce"]]),Q={class:"HomePage padding"},K={class:"HomePage_header radius flex_around"},N=["onClick"],Z={class:"HomePage_items flex_around padding"},ee=["onClick"],te=_(a({__name:"HomePage",setup(t){const a=c("$Utils");let l=e(!1),h=e(!1),g=null,p=null,w=e(!1);function x(){Y.currentHue=a.Tools.getRandom(0,360);let e=a.Tools.getRandom(100,window.innerWidth-100),t=a.Tools.getRandom(100,window.innerHeight/2-100);Y.createFireworks(window.innerWidth/2,window.innerHeight,e,t)}return b(h,(e=>{if(!e){clearInterval(g),clearTimeout(p),window.cancelAnimationFrame(Y.stop);let e=document.querySelector(".fireworkOverlay"),t=null==e?void 0:e.querySelector("canvas");null==e||e.removeChild(t)}})),o((()=>{clearInterval(g),clearTimeout(p),window.cancelAnimationFrame(Y.stop)})),(e,t)=>{const o=m("van-icon"),c=m("van-overlay");return r(),i("div",Q,[s("div",K,[(r(!0),i(v,null,f(k(M),((t,a)=>(r(),i("div",{class:"padding",key:t.icon,onClick:a=>e.$router.push(t.path)},[d(o,{class:"icon",name:t.icon},null,8,["name"]),s("p",null,y(t.name),1)],8,N)))),128))]),d(E),s("div",Z,[(r(!0),i(v,null,f(k(I),((e,t)=>(r(),i("div",{key:e.icon,class:"padding",onClick:t=>async function(e){if("烟花"===e.name&&(h.value=!0,n((()=>{document.querySelector(".fireworkOverlay").style.background="rgba(0, 0, 0, 0)",Y.init(),x(),p=setTimeout((()=>{h.value=!1}),4e3)}))),"签名"===e.name&&(w.value=!w.value),"群烟"===e.name&&(h.value=!0,n((()=>{document.querySelector(".fireworkOverlay").style.background="rgba(0, 0, 0, 0.8)",Y.init(),g=setInterval((()=>{x()}),a.Tools.getRandom(800,1e3))}))),"bell"===e.icon){if(!("vibrate"in navigator))return a.Message.failToast("不支持振动");l.value=!0,navigator.vibrate([300,100,200,100,100,100,500,100,300,100,200,100,100,50,50,50,150,200,200]),setTimeout((()=>{l.value=!1}),3e3)}"photograph"===e.icon&&await a.Tools.uploadImg((e=>{a.Message.successToast("",e,"100")})),"phone"===e.icon&&(location.href="tel://12345")}(e)},[d(o,{class:S(["icon",k(l)?"shake":""]),name:e.icon,color:e.color},null,8,["class","name","color"]),s("p",null,y(e.name),1)],8,ee)))),128))]),d(G),d(c,{show:k(h),onClick:t[0]||(t[0]=e=>L(h)?h.value=!1:h=!1),class:"fireworkOverlay"},null,8,["show"]),d(c,{show:k(w),onClick:t[1]||(t[1]=P((e=>L(w)?w.value=!1:w=!1),["self"])),class:"SignOverlay padding"},{default:u((()=>[d($)])),_:1},8,["show"])])}}}),[["__scopeId","data-v-ffc905d9"]]);export{te as default};
